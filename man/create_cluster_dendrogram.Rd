% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_dendrogram.R
\name{create_cluster_dendrogram}
\alias{create_cluster_dendrogram}
\title{Create clustered expression dendrogram}
\usage{
create_cluster_dendrogram(
  data,
  clus_col = names(data)[[1]],
  var_col = names(data)[[2]],
  val_col = names(data)[[3]],
  cor = c("pearson", "spearman"),
  distance = "ward.D",
  h = NULL,
  h_color = "red",
  rotate = FALSE,
  ...
)
}
\arguments{
\item{data}{data.table. Should include columns with clustering labels,
variables that are being clustered, and the values of those clusters.}

\item{clus_col}{character. name of column with clustering info}

\item{var_col}{character. name of column with variable name}

\item{val_col}{character. name of column with values info}

\item{cor}{correlation score to calculate distance
(e.g. "pearson", "spearman")}

\item{distance}{distance method to use for hierarchical clustering,
default to "ward.D"}

\item{h}{height of horizontal lines to plot}

\item{h_color}{color of horizontal lines}

\item{rotate}{rotate dendrogram 90 degrees}

\item{...}{
  Arguments passed on to \code{\link[ggdendro:ggdendrogram]{ggdendro::ggdendrogram}}
  \describe{
    \item{\code{segments}}{If TRUE, show line segments}
    \item{\code{labels}}{if TRUE, shows segment labels}
    \item{\code{leaf_labels}}{if TRUE, shows leaf labels}
    \item{\code{theme_dendro}}{if TRUE, applies a blank theme to plot (see
\code{\link[ggdendro:theme_dendro]{theme_dendro()}})}
  }}
}
\value{
ggdendrogram
}
\description{
Create a dendrogram based on a data.table with columns for
cluster ID, variables, and their values. If no specific values are provided
for the 'col' params then they will be assumed as 1. clus_col, 2. var_col,
3. val_col
}
\examples{
g <- GiottoData::loadGiottoMini("visium", verbose = FALSE)

g_expression <- head(GiottoClass::getExpression(g, output = "matrix"))
g_expression_df <- as.data.frame(as.matrix(g_expression))
g_expression_df$feat_ID <- rownames(g_expression)

g_expression_melt <- data.table::melt(g_expression_df,
    id.vars = "feat_ID",
    measure.vars = colnames(g_expression), variable.name = "cell_ID",
    value.name = "raw_expression"
)

create_cluster_dendrogram(data.table::as.data.table(g_expression_melt),
    var_col = "cell_ID", clus_col = "feat_ID", "raw_expression"
)

}
